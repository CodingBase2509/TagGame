<?xml version="1.0" encoding="utf-8"?>

<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:c="clr-namespace:TagGame.Client.Ui.Components"
             x:Class="TagGame.Client.Ui.Components.GeofenceEditor"
             x:Name="This">

    <AbsoluteLayout x:Name="Overlay">
        <c:AdvancedMap x:Name="GameMap"
                       AbsoluteLayout.LayoutBounds="0,0,1,1"
                       AbsoluteLayout.LayoutFlags="All"
                       IsShowingUser="True"
                       InitialGeofence="{Binding Source={x:Reference This}, Path=InitialGeofence}"
                       MapType="Hybrid" />

        <BoxView x:Name="GeofenceBox"
                 CornerRadius="6"
                 Color="Teal"
                 WidthRequest="200"
                 HeightRequest="200"
                 Rotation="0"
                 AbsoluteLayout.LayoutBounds="0.5,0.5,200,200"
                 AbsoluteLayout.LayoutFlags="PositionProportional">
            <BoxView.GestureRecognizers>
                <PinchGestureRecognizer PinchUpdated="OnPinchUpdated" />
                <PanGestureRecognizer PanUpdated="OnPanUpdated" />
            </BoxView.GestureRecognizers>
            <BoxView.Behaviors>
                <toolkit:TouchBehavior
                    LongPressCompleted="OnTouchAction"
                    LongPressDuration="600" />
            </BoxView.Behaviors>
        </BoxView>
    </AbsoluteLayout>

</ContentView>